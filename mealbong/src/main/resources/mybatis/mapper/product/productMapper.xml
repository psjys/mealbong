<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<!-- 위 코드가 mapper 설정을 하는 코드 -->

<!-- Mapper를 사용하는 Repository의 전체 경로를 적어줘야함. -->
<mapper namespace="com.project.mealbong.product.ProductMapper">

    <!--   // 상품 리스트 출력-->
    <select id="productList" resultType="com.project.mealbong.product.ProductDTO">
        select p.product_number, p.product_name, p.product_price, i.image_file
        from product p, image i
        where p.product_number = i.product_number;
    </select>

    <!--    // 상품 디테일 출력-->
    <select id="detail" resultType="com.project.mealbong.product.ProductDTO">
        select *
        from product
        where product_number = #{product_number}
    </select>

    <insert id="insert">
        insert into product (category_code, product_name, product_price, level_code
        , product_serving, package_code )
        values (#{category_code}, #{product_name}, #{product_price}, #{level_code}
        , #{product_serving}, #{package_code});
    </insert>

    <update id="update">
        update product set product_name=#{product_name}, product_price=#{product_price},
        category_code=#{category_code}, package_code=#{package_code}, product_serving=#{product_serving},
        level_code=#{level_code}
        where product_number = #{product_number}
    </update>

    <delete id="delete">
        delete from product
        where product_number = #{product_number}
    </delete>

</mapper>