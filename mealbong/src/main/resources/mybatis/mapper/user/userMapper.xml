<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<!-- 위 코드가 mapper 설정을 하는 코드 -->

<!-- Mapper를 사용하는 Repository의 전체 경로를 적어줘야함. -->
<mapper namespace="com.project.mealbong.user.User1Mapper">
<!--    <select id="qnaList" resultType="com.project.mealbong.board.QnaDTO">-->
<!--        select qna_num, qna_title, qna_date from qna-->
<!--        order by qna_num desc;-->
<!--    </select>-->

    <insert id="user_save">
        insert into user(user_id,user_password,user_name,
            user_email,user_phone,user_zip,
            user_address1,user_address2,user_gender,user_birth,etc1)
            values(#{user_id},#{user_password},#{user_name},
            #{user_email},#{user_phone},#{user_zip},#{user_address1},#{user_address2},
            #{user_gender},#{user_birth},#{etc1})

    </insert>
    
    <select id="user_list" resultType="com.project.mealbong.user.User1MapperDTO">
        select * from user
    </select>
    
    <delete id="user_delete" >
        delete from user where user_id = #{user_id}
    </delete>

    <select id="find_id" resultType="com.project.mealbong.user.User1MapperDTO">
        select * from user where user_id = #{user_id}
    </select>

    <update id="user_update">
        update user set user_password=#{user_password},user_name=#{user_name}, user_email=#{user_email},user_phone=#{user_phone},
    user_zip=#{user_zip},
    user_gender=#{user_gender} where user_id = #{user_id}
    </update>

    <select id="id_check" resultType="int">
        select COUNT(*) from user where user_id = '${user_id}'
    </select>

    <select id="email_check" resultType="int">
        select COUNT(*) from user where user_email = '${user_email}'
    </select>

    <select id="phone_check" resultType="int">
        select COUNT(*) from user where user_phone = '${user_phone}'
    </select>

<!--    <select id="pw_check" resultType="com.project.mealbong.user.User1MapperDTO">-->
<!--        select user_password from user where user_id = '${user_id}'-->
<!--    </select>-->
</mapper>